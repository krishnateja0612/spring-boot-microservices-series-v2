# https://docs.liquibase.com/concepts/changelogs/yaml-format.html
databaseChangeLog:
  - changeSet:
      author: rajakolli
      id: createTable-products
      context: Creates DDL Script for product
      preConditions:
        onFail: 'MARK_RAN'
        not:
          sequenceExists:
            schemaName: public
            sequenceName: products_seq
          tableExists:
            tableName: products
      createSequence:
        sequenceName: products_seq
        startValue: '1'
        incrementBy: '50'
      createTable:
        columns:
          - column:
              constraints:
                nullable: 'false'
                primaryKey: 'true'
                primaryKeyName: pk_products
              name: id
              type: BIGINT
              defaultValueSequenceNext: 'products_seq'
          - column:
              constraints:
                nullable: 'false'
              name: code
              type: text
          - column:
              constraints:
                nullable: 'false'
              name: product_name
              type: text
          - column:
              name: description
              type: text
          - column:
              name: price
              type: 'NUMERIC(19,2)'
        tableName: products
      addUniqueConstraint:
        columnNames: code
        constraintName: uc_products_code
        tableName: products
